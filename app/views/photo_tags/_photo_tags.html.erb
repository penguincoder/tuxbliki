<h3>Tagged:</h3>

<p>
  <% if @photo.nil? or @photo.photo_tags.empty? -%>
    None.
  <% else -%>
    <%= @photo.photo_tags.collect { |t|
      str = "<span onmouseover=\"show_tag_at(#{t.x}, #{t.y}); highlight_tag(#{t.id})\" onmouseout=\"hide_tag_box(); unhighlight_tag(#{t.id})\" id=\"photo_tag_#{t.id}\" class=\"photo_tags_for_mouseover\">#{t.tag.name}"
      if @editable
        str += " (<a href='#' onclick='destroy_photo_tag(#{t.id}); return false;'><img src='/images/edit-delete.png' /> Remove</a>)"
      end
      str += "</span>" }.join(', ') %>
  <% end -%>
  <script type="text/javascript">
    tag_array = [ <%= @photo.photo_tags.collect { |t| "[#{t.x}, #{t.y}, #{t.id}]" }.join(', ') -%> ];
  </script>
</p>
